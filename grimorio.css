 .grimoire-modal {
     position: absolute;
     inset: 0;
     /* Cobre todo o card */
     background-color: rgba(15, 23, 42, 0.8);
     /* Fundo escuro semi-transparente */
     backdrop-filter: blur(4px);
     /* Efeito de desfoque no fundo */
     z-index: 50;
     display: flex;
     align-items: center;
     justify-content: center;
     padding: 1rem;
     border-radius: 1.5rem;
     /* Mantém os cantos arredondados do card */
     opacity: 0;
     pointer-events: none;
     transition: opacity 0.3s ease-in-out;
 }

 .grimoire-modal.visible {
     opacity: 1;
     pointer-events: auto;
 }

 .grimoire-modal-content {
     background-color: #1e293b;
     /* Cor de fundo ardósia */
     border: 1px solid #475569;
     padding: 10px;
     border-radius: 1rem;
     width: 100%;
     height: 100%;
     position: relative;
     box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
 }

 .grimoire-modal-close-btn {
     position: absolute;
     top: 0.5rem;
     right: 0.75rem;
     background: none;
     border: none;
     font-size: 2rem;
     color: #94a3b8;
     cursor: pointer;
     line-height: 1;
     transition: color 0.2s;
 }

 .grimoire-modal-close-btn:hover {
     color: #e2e8f0;
 }

 /* Em index.html, cole este bloco dentro da tag <style> */

 /* --- INÍCIO: ESTILOS DO CARROSSEL DO GRIMÓRIO --- */

 /* O contêiner principal do carrossel dentro do modal */
 .grimoire-carousel-wrapper {
     display: flex;
     flex-direction: column;
     align-items: center;
     /* Espaço entre o carrossel e os botões */
     width: 100%;
     height: 100%;
     /* Ocupa todo o espaço do conteúdo do modal */
     overflow: hidden;
     /* Garante que nada saia dos limites */
     padding-top: 45px;
     /* Espaço para o título do modal não ser sobreposto */
 }

 /* A "janela" do carrossel */
 .grimoire-carousel-viewport {
     width: 100%;
     height: calc(100% - 80px);
     /* Deixa espaço para os botões e margens */
     overflow: hidden;
     cursor: grab;
     display: flex;
     /* Centraliza o carrossel verticalmente */
     align-items: center;
 }

 .grimoire-carousel-viewport.dragging {
     cursor: grabbing;
 }

 /* O contêiner que se move horizontalmente */
 .grimoire-carousel {
     display: flex;
     align-items: center;
     height: 100%;
     /* Garante que os itens fiquem alinhados */
     will-change: transform;
     /* Otimização de performance */
 }

 /* Estilo de cada item (o card de magia) no carrossel */
 .grimoire-carousel-item {
     width: 320px;
     /* Largura fixa para cada card de magia */
     flex-shrink: 0;
     padding: 0 10px;
     box-sizing: border-box;
     user-select: none;
     transition: transform 0.5s cubic-bezier(0.77, 0, 0.175, 1), opacity 0.5s;
     transform: scale(0.8);
     /* Itens não ativos são menores */
     opacity: 0.5;
     z-index: 1;
 }

 /* Estilo do item ativo (central) */
 .grimoire-carousel-item.active {
     transform: scale(1);
     opacity: 1;
     z-index: 2;
     /* Fica na frente dos outros */
 }

 /* Remove a borda e sombra padrão do card quando ele está no carrossel */
 .grimoire-carousel-item .rpg-card {
     border: none !important;
     box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2), 0 6px 6px rgba(0, 0, 0, 0.25);
 }

 /* Controles de navegação */
 .grimoire-carousel-nav {
     display: none !important;
     gap: 15px;
     z-index: 5;
 }

 .grimoire-nav-button {
     padding: 10px 20px;
     font-size: 14px;
     font-weight: 600;
     color: #fff;
     background: linear-gradient(145deg, #0d9488, #0f766e);
     /* Gradiente de azul para combinar com o Grimório */
     border: none;
     border-radius: 8px;
     cursor: pointer;
     transition: transform 0.2s, box-shadow 0.2s;
     box-shadow: 0 4px 10px rgba(13, 148, 136, 0.3);
 }

 .grimoire-nav-button:hover {
     transform: translateY(-2px);
     box-shadow: 0 6px 15px rgba(13, 148, 136, 0.4);
 }

 .grimoire-nav-button:active {
     transform: translateY(0);
     box-shadow: 0 2px 5px rgba(13, 148, 136, 0.3);
 }

 /* Estilo para quando não há magias */
 .no-spells-message {
     color: #94a3b8;
     text-align: center;
     font-style: italic;
     width: 100%;
 }

 /* --- FIM: ESTILOS DO CARROSSEL DO GRIMÓRIO --- */

 /* Cole este bloco no seu CSS em index.html */

 .grimoire-thumbnail-nav {
     width: 100%;
     padding: 10px 2px;
     display: flex;
     justify-content: flex-start;
     align-items: center;
     gap: 10px;
     overflow-x: auto;
    overflow-y: hidden;
     /* Permite rolar se houver muitas miniaturas */
     scrollbar-width: thin;
     scrollbar-color: #475569 #1e293b;
 }

 .grimoire-thumbnail-item {
     width: 50px;
     height: 50px;
     flex-shrink: 0;
     /* Impede que as miniaturas encolham */
     border: 3px solid transparent;
     border-radius: 5px;
     cursor: pointer;
     overflow: hidden;
     opacity: 0.6;
     transition: all 0.3s ease;
     transform: scale(0.95);
 }

 .grimoire-thumbnail-item img {
     width: 100%;
     height: 100%;
     object-fit: cover;
     display: block;
 }

 .grimoire-thumbnail-item.active {
     border-color: #2dd4bf;
     /* Cor de destaque (teal) */
     opacity: 1;
     transform: scale(1.05);
 }

  .rpg-card.in-carousel .card-front {
            will-change: transform;
        }